# –ó–∞–¥–∞—á–∏ –ø–æ Rust: Structs, Enums –∏ Pattern Matching

## üß© –ó–∞–¥–∞—á–∞ 1: –°–∏—Å—Ç–µ–º–∞ –∑–∞ –ø—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ —Å—ä–±–∏—Ç–∏—è

–ù–∞–ø–∏—à–∏ –ø—Ä–æ–≥—Ä–∞–º–∞, –∫–æ—è—Ç–æ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ —Ç–∏–ø `Event`, –∏–∑–ø–æ–ª–∑–≤–∞–π–∫–∏ `enum`, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –µ–¥–Ω–∞ –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏:

- `Login { user: String, timestamp: u64 }`
- `Logout { user: String, timestamp: u64 }`
- `Purchase { user: String, item: String, amount: f64, timestamp: u64 }`
- `Error { code: i32, message: String, timestamp: u64 }`

–û—Å–≤–µ–Ω —Ç–æ–≤–∞, –¥–µ—Ñ–∏–Ω–∏—Ä–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `EventLog`, –∫–æ—è—Ç–æ —Å—ä–¥—ä—Ä–∂–∞ **–≤–µ–∫—Ç–æ—Ä** –æ—Ç —Å—ä–±–∏—Ç–∏—è:

```rust
struct EventLog {
    events: Vec<Event>,
}
```

### –∞) –î–æ–±–∞–≤–∏ –º–µ—Ç–æ–¥ `fn add_event(&mut self, event: Event)` –∫—ä–º `EventLog`, –∫–æ–π—Ç–æ –¥–æ–±–∞–≤—è —Å—ä–±–∏—Ç–∏–µ—Ç–æ.

### –±) –î–æ–±–∞–≤–∏ –º–µ—Ç–æ–¥ `fn user_spent(&self, user: &str) -> f64`, –∫–æ–π—Ç–æ –≤—Ä—ä—â–∞ –æ–±—â–∞—Ç–∞ —Å—É–º–∞, –∏–∑—Ö–∞—Ä—á–µ–Ω–∞ –æ—Ç –¥–∞–¥–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª.

### –≤) –î–æ–±–∞–≤–∏ –º–µ—Ç–æ–¥ `fn summaries_by_type(&self) -> HashMap<String, usize>`, –∫–æ–π—Ç–æ –≤—Ä—ä—â–∞ –±—Ä–æ–π —Å—ä–±–∏—Ç–∏—è –ø–æ —Ç–∏–ø.

### –≥) –î–æ–±–∞–≤–∏ —Ñ—É–Ω–∫—Ü–∏—è `fn filter_events(&self, user: Option<&str>, after: Option<u64>) -> Vec<&Event>` ‚Äî –≤—Ä—ä—â–∞ —Å—ä–±–∏—Ç–∏—è, –æ—Ç–≥–æ–≤–∞—Ä—è—â–∏ –Ω–∞ –∑–∞–¥–∞–¥–µ–Ω–∏—Ç–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —á—Ä–µ–∑ pattern matching.

---

## üß† –ó–∞–¥–∞—á–∞ 2: –°–∏–º—É–ª–∞—Ç–æ—Ä –Ω–∞ –ø—Ä–µ–≤–æ–∑–Ω–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞

–°—ä–∑–¥–∞–π —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –º–æ–¥–µ–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω–∏ –≤–∏–¥–æ–≤–µ –ø—Ä–µ–≤–æ–∑–Ω–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ—Ç–æ –∏–º –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–µ.

### –∞) –î–µ—Ñ–∏–Ω–∏—Ä–∞–π:

```rust
enum VehicleKind {
    Car,
    Truck,
    Motorcycle,
    Bicycle,
}

struct Vehicle {
    kind: VehicleKind,
    fuel: f64,
    distance: f64,
}
```

### –±) –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π –º–µ—Ç–æ–¥–∏:

- `fn new(kind: VehicleKind, fuel: f64) -> Self`
- `fn drive(&mut self, km: f64) -> Result<(), String>` ‚Äî –∏–∑—á–∏—Å–ª—è–≤–∞ —Ä–∞–∑—Ö–æ–¥ —Å–ø–æ—Ä–µ–¥ –≤–∏–¥–∞:
  - Car ‚Üí 0.07 –ª/–∫–º
  - Truck ‚Üí 0.15 –ª/–∫–º
  - Motorcycle ‚Üí 0.05 –ª/–∫–º
  - Bicycle ‚Üí 0.0 –ª/–∫–º

### –≤) –ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞–π –º–µ—Ç–æ–¥ `fn status(&self) -> String`, –∫–æ–π—Ç–æ –≤—Ä—ä—â–∞ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ.

### –≥) –ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—è `fn total_fuel_used(vehicles: &[Vehicle]) -> f64`, –∫–æ—è—Ç–æ –∏–∑—á–∏—Å–ª—è–≤–∞ –æ–±—â–æ –∏–∑—Ä–∞–∑—Ö–æ–¥–≤–∞–Ω–æ—Ç–æ –≥–æ—Ä–∏–≤–æ —á—Ä–µ–∑ pattern matching.
